<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Kysymyksen luominen</title>
</head>
<body>
	<h1>Lis‰‰ uusi kysymys</h1>
		<form id="kysymys" action="#" onsubmit="return false;">
			Kirjoita uusi kysymys:<br> 
			<textarea name="ukys" id="rukys" rows="4" cols="50" placeholder="Kirjoita uusi kysymys t‰h‰n"></textarea>
		</form>
		
		<button onclick="lahetakysymys();">Tallenna kysymys</button>
		
		<button id="indexBtn">Etusivulle</button>
<script>

var btn = document.getElementById('indexBtn');
btn.addEventListener('click', function() {
	 document.location.href = 'index.html';
});

function lahetakysymys() {

	var lom = document.getElementById("kysymys")
	var kysymys = new Object();
	kysymys.kysymys = lom.rukys.value;
	
	var jsonKysymys = JSON.stringify(kysymys);
	/*      document.getElementById("yksia").innerHTML = jsonElain;
	 document.getElementById("yksib").innerHTML = JSON.stringify(jsonElain); */

	var xhttp = new XMLHttpRequest();

	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			document.getElementById("debug").innerHTML = this.responseText;
			var palautettu = JSON.parse(this.responseText);
			/*              document.getElementById("osina").innerHTML = "ID="
			 + palautettu.id + " koko=" + palautettu.paino
			 + " Rotu=" + palautettu.laji; */
		}
	};

	xhttp.open("POST",
			"./vaalikonejparest/vaalikonejpaservice/lisaakysymys", true);
	//      xhttp.setRequestHeader("Content-type","text/plain");
	xhttp.setRequestHeader("Content-type", "application/json");
	//      xmlhttp.setRequestHeader("Data-type","json");
	xhttp.send(jsonKysymys);
}

</script>
</body>
</html>