<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Adding a question</title>
</head>
<body>
	<h1>Add a new question</h1>
		<form id="question" action="#" onsubmit="return false;">
			New question:<br> 
			<textarea name="newquestion" id="form_newquestion" rows="4" cols="50" placeholder="Write the new question here"></textarea>
		</form>
		
		<button onclick="sendQuestion();">Save question</button>
		
		<button id="indexBtn">Home page</button>
<script>

var btn = document.getElementById('indexBtn');
btn.addEventListener('click', function() {
	 document.location.href = 'index.html';
});

function sendQuestion() {

	var form = document.getElementById("question")
	var question = new Object();
	question.question = form.form_newquestion.value;
	
	var jsonQuestion = JSON.stringify(question);
	/*      document.getElementById("yksia").innerHTML = jsonElain;
	 document.getElementById("yksib").innerHTML = JSON.stringify(jsonElain); */

	var xhttp = new XMLHttpRequest();

	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			document.getElementById("debug").innerHTML = this.responseText;
			var returned = JSON.parse(this.responseText);

		}
	};

	xhttp.open("POST",
			"./vaalikonejparest/vaalikonejpaservice/lisaakysymys", true);
	//      xhttp.setRequestHeader("Content-type","text/plain");
	xhttp.setRequestHeader("Content-type", "application/json");
	//      xmlhttp.setRequestHeader("Data-type","json");
	xhttp.send(jsonQuestion);
}

</script>
</body>
</html>